<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% block title %}Admin Dashboard{% endblock %}</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800 font-sans h-screen flex overflow-hidden">
<aside id="sidebar" class="fixed inset-y-0 left-0 z-30 w-64 bg-slate-900 text-white transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out flex flex-col shadow-xl">
<div class="h-16 flex items-center px-6 border-b border-gray-700 bg-slate-900">
<i class="fas fa-university text-blue-400 text-xl mr-3"></i>
<span class="text-lg font-bold tracking-wide">UniBot Admin</span>
</div>
<nav class="flex-grow p-4 space-y-2 overflow-y-auto">
<a href="/admin" class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors group {% if active_page == 'dashboard' %}bg-blue-600 text-white{% else %}text-gray-300 hover:bg-gray-800 hover:text-white{% endif %}">
<i class="fas fa-chart-line w-6 text-center mr-2 {% if active_page == 'dashboard' %}text-white{% else %}text-gray-400 group-hover:text-white{% endif %}"></i>
Dashboard
</a>
<a href="/admin/documents" class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors group {% if active_page == 'documents' %}bg-blue-600 text-white{% else %}text-gray-300 hover:bg-gray-800 hover:text-white{% endif %}">
<i class="fas fa-file-alt w-6 text-center mr-2 {% if active_page == 'documents' %}text-white{% else %}text-gray-400 group-hover:text-white{% endif %}"></i>
Documents
</a>
<a href="/admin/users" class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors group {% if active_page == 'users' %}bg-blue-600 text-white{% else %}text-gray-300 hover:bg-gray-800 hover:text-white{% endif %}">
<i class="fas fa-users w-6 text-center mr-2 {% if active_page == 'users' %}text-white{% else %}text-gray-400 group-hover:text-white{% endif %}"></i>
Users
</a>
</nav>
<div class="p-4 border-t border-gray-700 bg-slate-900">
<button id="logout-btn" class="flex items-center w-full px-4 py-2 text-sm font-medium text-gray-300 rounded-lg hover:bg-red-600 hover:text-white transition-colors group">
<i class="fas fa-sign-out-alt w-6 text-center mr-2 text-gray-400 group-hover:text-white"></i>
Logout
</button>
</div>
</aside>
<div class="flex-1 flex flex-col lg:ml-64 transition-all duration-300">
<header class="h-16 bg-white shadow-sm flex items-center justify-between px-6 lg:px-8">
<h1 class="text-xl font-bold text-gray-800">
{% if active_page == 'dashboard' %}Dashboard{% endif %}
{% if active_page == 'documents' %}Documents{% endif %}
{% if active_page == 'users' %}User Management{% endif %}
</h1>
</header>
<main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6 lg:p-8">
{% block content %}{% endblock %}
</main>
</div>
<script>
fetch('/api/check-auth').then(r => r.json()).then(data => { if (!data.authenticated || data.role !== 'admin') { window.location.href = '/login'; } });
document.getElementById('logout-btn').addEventListener('click', async () => { await fetch('/api/logout', { method: 'POST' }); window.location.href = '/login'; });
</script>
{% block scripts %}{% endblock %}
</body>
</html>
